#include "box.h"
#include "box_print.h"
#include "controls.h"
#include "cursor_controls.h"
#include "get_time.h"
#include "terminal.h"
#include <iostream>
#include <string>
#include <time.h>
#include <unistd.h>
// Global variables

// Terminal flags
int height = tty_height();
int width = tty_width();

// Time flags
bool timer_started = false;
int initial_time = 0;

// Control Flags
int index_of_string{0};
std::string str = "Hello world this is test string hello world test world test "
                  "test hello\n hello \n";

int main() {
  struct termios initial_state;
  tcgetattr(0, &initial_state);
  sttyCbreak(0); // Put terminal into cbreak mode
  draw_rect(1);
  draw_footer();
  b_printf(str, width);
  print_time(19);
  initial_time = current_time();
  timer_started = true;
  sleep(2);
  print_time(19);

  mv_xy(width, height + 1);
  printf("\n");
  sttyRestore(0, initial_state);
  return 0;
}
